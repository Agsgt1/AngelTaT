<script type="module">
  import { State } from "./habitat.js";

  class Root extends State {}

  class Idle extends State {
    enter() {
      console.log("Idle: enter");
    }
    exit() {
      console.log("Idle: exit");
    }
    pointerDown() {
      this.parent.transition(new Pointing());
    }
  }

  class Pointing extends State {
    enter() {
      console.log("Pointing: enter");
    }
    exit() {
      console.log("Pointing: exit");
    }
    pointerUp() {
      this.parent.transition(new Idle());
    }
  }

  const root = new Root();
  root.transition(new Idle());

  addEventListener("pointerdown", root.method("pointerDown"));
  addEventListener("pointerup", root.method("pointerUp"));
</script>
